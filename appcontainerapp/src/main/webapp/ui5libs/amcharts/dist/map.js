"use strict";(self.webpackChunk_am5=self.webpackChunk_am5||[]).push([[6842],{6970:function(e,t,n){n.r(t),n.d(t,{DefaultTheme:function(){return ht},GraticuleSeries:function(){return ae},MapChart:function(){return Di},MapLine:function(){return $},MapLineSeries:function(){return ne},MapPointSeries:function(){return Si},MapPolygon:function(){return Ci},MapPolygonSeries:function(){return Ii},MapSeries:function(){return l},ZoomControl:function(){return ki},geoAlbersUsa:function(){return Zi},geoEqualEarth:function(){return Qi},geoEquirectangular:function(){return Xi},geoMercator:function(){return lt},geoNaturalEarth1:function(){return qi},geoOrthographic:function(){return Ri},getGeoCircle:function(){return mi},getGeoRectangle:function(){return wi},normalizeGeoPoint:function(){return ji}});var i=n(5125),r=n(3399),o=n(5071),a=n(256),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"_types",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t,"_geometries",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t,"_geoJSONparsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"_excluded",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t,"_notIncluded",{enumerable:!0,configurable:!0,writable:!0,value:[]}),t}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this;this.fields.push("geometry","geometryType"),this._setRawDefault("geometryField","geometry"),this._setRawDefault("geometryTypeField","geometryType"),this._setRawDefault("idField","id"),this.on("geoJSON",(function(e){var n=t._prevSettings.geoJSON;n&&n!=e&&t.data.clear()})),e.prototype._afterNew.call(this)}}),Object.defineProperty(t.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this;if(e.prototype._prepareChildren.call(this),this._valuesDirty||this.isDirty("geoJSON")||this.isDirty("include")||this.isDirty("exclude")){var n=this.get("geoJSON"),i=this._prevSettings.geoJSON;i&&i!=n&&(this._prevSettings.geoJSON=void 0,this._geoJSONparsed=!1),this._geoJSONparsed||(this._parseGeoJSON(),this._geoJSONparsed=!0);var r=this.chart,a=this.get("exclude");a&&(r&&(r._centerLocation=null),o.each(a,(function(e){var n=t.getDataItemById(e);n&&t._excludeDataItem(n)}))),a&&0!=a.length||(o.each(this._excluded,(function(e){t._unexcludeDataItem(e)})),this._excluded=[]);var l=this.get("include");l&&(r&&(r._centerLocation=null),o.each(this.dataItems,(function(e){var n=e.get("id");n&&-1==l.indexOf(n)?t._notIncludeDataItem(e):t._unNotIncludeDataItem(e)}))),l||(o.each(this._notIncluded,(function(e){t._unNotIncludeDataItem(e)})),this._notIncluded=[])}}}),Object.defineProperty(t.prototype,"_excludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._removeGeometry(e.get("geometry")),o.move(this._excluded,e)}}),Object.defineProperty(t.prototype,"_unexcludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._addGeometry(e.get("geometry"),this)}}),Object.defineProperty(t.prototype,"_notIncludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._removeGeometry(e.get("geometry")),o.move(this._notIncluded,e)}}),Object.defineProperty(t.prototype,"_unNotIncludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._addGeometry(e.get("geometry"),this)}}),Object.defineProperty(t.prototype,"checkInclude",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){if(t){if(0==t.length)return!1;if(-1==t.indexOf(e))return!1}return!(n&&n.length>0&&-1!=n.indexOf(e))}}),Object.defineProperty(t.prototype,"_parseGeoJSON",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("geoJSON");if(e){var t=void 0;"FeatureCollection"==e.type?t=e.features:"Feature"==e.type?t=[e]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(e.type)?t=[{geometry:e}]:console.log("nothing found in geoJSON");var n=this.get("geodataNames");if(t)for(var i=this.get("idField","id"),r=function(e,r){var u=t[e],s=u.geometry;if(s){var c=s.type,p=u[i];if(n&&n[p]&&(u.properties.name=n[p]),-1!=l._types.indexOf(c)){var f=void 0;null!=p&&(f=o.find(l.dataItems,(function(e){return e.get("id")==p})));var h=void 0;f&&(h=f.dataContext),f?h.geometry||(h.geometry=s,h.geometryType=c,f.set("geometry",s),f.set("geometryType",c),l.processDataItem(f)):((h={geometry:s,geometryType:c,madeFromGeoData:!0})[i]=p,l.data.push(h)),a.softCopyProperties(u.properties,h)}}},l=this,u=0,s=t.length;u<s;u++)r(u);var c="geodataprocessed";this.events.isEnabled(c)&&this.events.dispatch(c,{type:c,target:this})}}}),Object.defineProperty(t.prototype,"_placeBulletsContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.children.moveValue(this.bulletsContainer)}}),Object.defineProperty(t.prototype,"_removeBulletsContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(t.prototype,"projection",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.chart;if(e)return e.get("projection")}}),Object.defineProperty(t.prototype,"geoPath",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.chart;if(e)return e.getPrivate("geoPath")}}),Object.defineProperty(t.prototype,"_addGeometry",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(e&&t.get("affectsBounds",!0)){this._geometries.push(e);var n=this.chart;n&&n.markDirtyGeometries()}}}),Object.defineProperty(t.prototype,"_removeGeometry",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e){o.remove(this._geometries,e);var t=this.chart;t&&t.markDirtyGeometries()}}}),Object.defineProperty(t.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){e.prototype._dispose.call(this);var t=this.chart;t&&t.series.removeValue(this)}}),Object.defineProperty(t.prototype,"_onDataClear",{enumerable:!1,configurable:!0,writable:!0,value:function(){e.prototype._onDataClear.call(this),this._geoJSONparsed=!1}}),Object.defineProperty(t,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapSeries"}),Object.defineProperty(t,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:r.F.classNames.concat([t.className])}),t}(r.F),u=n(5040),s=n(6245),c=n(1479);class p{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const r=t[i],o=e+r,a=Math.abs(e)<Math.abs(r)?e-(o-r):r-(o-e);a&&(t[n++]=a),e=o}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,i,r=this._n,o=0;if(r>0){for(o=e[--r];r>0&&(t=o,n=e[--r],o=t+n,i=n-(o-t),!i););r>0&&(i<0&&e[r-1]<0||i>0&&e[r-1]>0)&&(n=2*i,t=o+n,n==t-o&&(o=t))}return o}}var f=1e-6,h=1e-12,g=Math.PI,d=g/2,v=g/4,b=2*g,y=180/g,m=g/180,_=Math.abs,P=Math.atan,w=Math.atan2,j=Math.cos,O=Math.ceil,x=Math.exp,D=(Math.floor,Math.hypot),S=Math.log,M=(Math.pow,Math.sin),N=Math.sign||function(e){return e>0?1:e<0?-1:0},C=Math.sqrt,I=Math.tan;function E(e){return e>1?d:e<-1?-d:Math.asin(e)}function T(e){return(e=M(e/2))*e}function L(){}function k(e,t){e&&G.hasOwnProperty(e.type)&&G[e.type](e,t)}var z,R,Y,X,B={Feature:function(e,t){k(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)k(n[i].geometry,t)}},G={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){Z(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Z(n[i],t,0)},Polygon:function(e,t){A(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)A(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)k(n[i],t)}};function Z(e,t,n){var i,r=-1,o=e.length-n;for(t.lineStart();++r<o;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function A(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)Z(e[n],t,1);t.polygonEnd()}function W(e,t){e&&B.hasOwnProperty(e.type)?B[e.type](e,t):k(e,t)}var F={sphere:L,point:L,lineStart:function(){F.point=J,F.lineEnd=V},lineEnd:L,polygonStart:L,polygonEnd:L};function V(){F.point=F.lineEnd=L}function J(e,t){R=e*=m,Y=M(t*=m),X=j(t),F.point=H}function H(e,t){e*=m;var n=M(t*=m),i=j(t),r=_(e-R),o=j(r),a=i*M(r),l=X*n-Y*i*o,u=Y*n+X*i*o;z.add(w(C(a*a+l*l),u)),R=e,Y=n,X=i}function Q(e){return z=new p,W(e,F),+z}var U=[null,null],q={type:"LineString",coordinates:U};function K(e,t){return U[0]=e,U[1]=t,Q(q)}var $=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"_projectionDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this;if(e.prototype._beforeChanged.call(this),this._projectionDirty||this.isDirty("geometry")||this.isDirty("precision")){var n=this.get("geometry");if(n){var i=this.getPrivate("series");if(i){var r=i.chart;if(r){var o=r.get("projection"),a=null;o&&o.clipAngle&&(a=o.clipAngle(),o.precision(this.get("precision",.5)));var l=this.dataItem,u=r.getPrivate("geoPath");if(u&&l)if(this._clear=!0,"straight"==l.get("lineType",i.get("lineType"))){var s=this.get("geometry");if(s){var c,p=s.coordinates;p&&("LineString"==s.type?c=[p]:"MultiLineString"==s.type&&(c=p),this.set("draw",(function(e){for(var t=0;t<c.length;t++){var n=c[t];if(n.length>0){var i=n[0],o=r.convert({longitude:i[0],latitude:i[1]});e.lineTo(o.x,o.y);for(var a=0;a<n.length;a++){var l=n[a],u=r.convert({longitude:l[0],latitude:l[1]});e.lineTo(u.x,u.y)}}}})))}}else this.set("draw",(function(e){o&&!1===i.get("clipBack")&&o.clipAngle(180),u.context(t._display),u(n),u.context(null),o&&o.clipAngle&&o.clipAngle(a)}))}}}var f="linechanged";this.events.isEnabled(f)&&this.events.dispatch(f,{type:f,target:this})}}}),Object.defineProperty(t.prototype,"markDirtyProjection",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.markDirty(),this._projectionDirty=!0}}),Object.defineProperty(t.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){e.prototype._clearDirty.call(this),this._projectionDirty=!1}}),Object.defineProperty(t.prototype,"_getTooltipPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("tooltipX"),t=this.get("tooltipY"),n=0,i=0;if(u.isNumber(e)&&(n=e),u.isNumber(t)&&(i=t),e instanceof s.gG){var r=this.positionToGeoPoint(e.value),o=this.getPrivate("series");if(o){var a=o.chart;if(a){var l=a.convert(r);n=l.x,i=l.y}}}return{x:n,y:i}}}),Object.defineProperty(t.prototype,"positionToGeoPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("geometry"),n=this.getPrivate("series"),i=n.chart,r=this.dataItem;if(t&&n&&i&&r){var o=r.get("lineType",n.get("lineType")),a=Q(t),l=0,u=0,s=0,c=void 0,p=void 0,f=t.coordinates;if(f){var h=void 0;"LineString"==t.type?h=[f]:"MultiLineString"==t.type&&(h=f);for(var g=0;g<h.length;g++){var d=h[g];if(d.length>1){for(var v=1;v<d.length;v++)if(u=l/a,s=(l+=K(c=d[v-1],p=d[v]))/a,u<=e&&s>e){g=h.length;break}}else 1==d.length&&(c=d[0],p=d[0],u=0,s=1)}if(c&&p){var b,_=(e-u)/(s-u);if("straight"==o){var P=i.convert({longitude:c[0],latitude:c[1]}),O=i.convert({longitude:p[0],latitude:p[1]}),x=P.x+(O.x-P.x)*_,D=P.y+(O.y-P.y)*_;return i.invert({x:x,y:D})}return b=function(e,t){var n=e[0]*m,i=e[1]*m,r=t[0]*m,o=t[1]*m,a=j(i),l=M(i),u=j(o),s=M(o),c=a*j(n),p=a*M(n),f=u*j(r),h=u*M(r),g=2*E(C(T(o-i)+a*u*T(r-n))),d=M(g),v=g?function(e){var t=M(e*=g)/d,n=M(g-e)/d,i=n*c+t*f,r=n*p+t*h,o=n*l+t*s;return[w(r,i)*y,w(o,C(i*i+r*r))*y]}:function(){return[n*y,i*y]};return v.distance=g,v}(c,p)(_),{longitude:b[0],latitude:b[1]}}}}return{longitude:0,latitude:0}}}),Object.defineProperty(t,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapLine"}),Object.defineProperty(t,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:c.T.classNames.concat([t.className])}),t}(c.T),ee=n(7144),te=n(5769),ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"mapLines",{enumerable:!0,configurable:!0,writable:!0,value:new ee.o(te.YS.new({}),(function(){return $._new(t._root,{},[t.mapLines.template])}))}),Object.defineProperty(t,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["LineString","MultiLineString"]}),t}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fields.push("lineType"),this._setRawDefault("lineTypeField","lineType"),e.prototype._afterNew.call(this)}}),Object.defineProperty(t.prototype,"makeMapLine",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.children.push(this.mapLines.make());return t._setDataItem(e),this.mapLines.push(t),t}}),Object.defineProperty(t.prototype,"markDirtyProjection",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.each(this.dataItems,(function(e){var t=e.get("mapLine");t&&t.markDirtyProjection()}))}}),Object.defineProperty(t.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){e.prototype._prepareChildren.call(this),this.isDirty("stroke")&&this.mapLines.template.set("stroke",this.get("stroke"))}}),Object.defineProperty(t.prototype,"processDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=this;e.prototype.processDataItem.call(this,t);var i=t.get("mapLine");i||(i=this.makeMapLine(t)),this._handlePointsToConnect(t),t.on("pointsToConnect",(function(){n._handlePointsToConnect(t)})),t.set("mapLine",i),this._addGeometry(t.get("geometry"),this),i.setPrivate("series",this)}}),Object.defineProperty(t.prototype,"_handlePointsToConnect",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=e.get("pointsToConnect");n&&(o.each(n,(function(n){n.on("geometry",(function(){t.markDirtyValues(e)})),n.on("longitude",(function(){t.markDirtyValues(e)})),n.on("latitude",(function(){t.markDirtyValues(e)}))})),this.markDirtyValues(e))}}),Object.defineProperty(t.prototype,"markDirtyValues",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(e.prototype.markDirtyValues.call(this),t){var n=t.get("mapLine");if(n){var i=t.get("pointsToConnect");if(i){var r=[];o.each(i,(function(e){var t=e.get("longitude"),n=e.get("latitude");if(null!=t&&null!=n)r.push([t,n]);else{var i=e.get("geometry");if(i){var o=i.coordinates;o&&r.push([o[0],o[1]])}}}));var a={type:"LineString",coordinates:r};t.setRaw("geometry",a),n.set("geometry",a)}else n.set("geometry",t.get("geometry"))}}}}),Object.defineProperty(t.prototype,"disposeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.disposeDataItem.call(this,t);var n=t.get("mapLine");n&&(this.mapLines.removeValue(n),n.dispose())}}),Object.defineProperty(t.prototype,"_excludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype._excludeDataItem.call(this,t);var n=t.get("mapLine");n&&n.setPrivate("visible",!1)}}),Object.defineProperty(t.prototype,"_unexcludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype._unexcludeDataItem.call(this,t);var n=t.get("mapLine");n&&n.setPrivate("visible",!0)}}),Object.defineProperty(t.prototype,"_notIncludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype._notIncludeDataItem.call(this,t);var n=t.get("mapLine");n&&n.setPrivate("visible",!1)}}),Object.defineProperty(t.prototype,"_unNotIncludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype._unNotIncludeDataItem.call(this,t);var n=t.get("mapLine");n&&n.setPrivate("visible",!0)}}),Object.defineProperty(t,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapLineSeries"}),Object.defineProperty(t,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.classNames.concat([t.className])}),t}(l);function ie(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++i<r;)o[i]=e+i*n;return o}function re(e,t,n){var i=ie(e,t-f,n).concat(t);return function(e){return i.map((function(t){return[e,t]}))}}function oe(e,t,n){var i=ie(e,t-f,n).concat(t);return function(e){return i.map((function(t){return[t,e]}))}}var ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:t.makeDataItem({})}),t}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){e.prototype._afterNew.call(this),this.dataItems.push(this._dataItem),this._generate()}}),Object.defineProperty(t.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this;if(e.prototype._updateChildren.call(this),this.isDirty("step")&&this._generate(),this.isDirty("clipExtent")&&this.get("clipExtent")){var n=this.chart;n&&n.events.on("geoboundschanged",(function(){t._generate()})),this._generate()}}}),Object.defineProperty(t.prototype,"_generate",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=function(){var e,t,n,i,r,o,a,l,u,s,c,p,h=10,g=h,d=90,v=360,b=2.5;function y(){return{type:"MultiLineString",coordinates:m()}}function m(){return ie(O(i/d)*d,n,d).map(c).concat(ie(O(l/v)*v,a,v).map(p)).concat(ie(O(t/h)*h,e,h).filter((function(e){return _(e%d)>f})).map(u)).concat(ie(O(o/g)*g,r,g).filter((function(e){return _(e%v)>f})).map(s))}return y.lines=function(){return m().map((function(e){return{type:"LineString",coordinates:e}}))},y.outline=function(){return{type:"Polygon",coordinates:[c(i).concat(p(a).slice(1),c(n).reverse().slice(1),p(l).reverse().slice(1))]}},y.extent=function(e){return arguments.length?y.extentMajor(e).extentMinor(e):y.extentMinor()},y.extentMajor=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],l=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),l>a&&(e=l,l=a,a=e),y.precision(b)):[[i,l],[n,a]]},y.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],r=+n[1][1],t>e&&(n=t,t=e,e=n),o>r&&(n=o,o=r,r=n),y.precision(b)):[[t,o],[e,r]]},y.step=function(e){return arguments.length?y.stepMajor(e).stepMinor(e):y.stepMinor()},y.stepMajor=function(e){return arguments.length?(d=+e[0],v=+e[1],y):[d,v]},y.stepMinor=function(e){return arguments.length?(h=+e[0],g=+e[1],y):[h,g]},y.precision=function(f){return arguments.length?(b=+f,u=re(o,r,90),s=oe(t,e,b),c=re(l,a,90),p=oe(i,n,b),y):b},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}();if(e){if(this.get("clipExtent")){var t=this.chart;if(t){var n=t.geoBounds();n&&e.extent([[n.left,n.bottom],[n.right,n.top]])}}var i=this.get("step",10);e.stepMinor([360,360]),e.stepMajor([i,i]),this._dataItem.set("geometry",e())}}}),Object.defineProperty(t,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GraticuleSeries"}),Object.defineProperty(t,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ne.classNames.concat([t.className])}),t}(ne),le=n(3409),ue=n(3783);function se(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])}),n}function ce(e,t){return[_(e)>g?e+Math.round(-e/b)*b:e,t]}function pe(e,t,n){return(e%=b)?t||n?se(he(e),ge(t,n)):he(e):t||n?ge(t,n):ce}function fe(e){return function(t,n){return[(t+=e)>g?t-b:t<-g?t+b:t,n]}}function he(e){var t=fe(e);return t.invert=fe(-e),t}function ge(e,t){var n=j(e),i=M(e),r=j(t),o=M(t);function a(e,t){var a=j(t),l=j(e)*a,u=M(e)*a,s=M(t),c=s*n+l*i;return[w(u*r-c*o,l*n-s*i),E(c*r+u*o)]}return a.invert=function(e,t){var a=j(t),l=j(e)*a,u=M(e)*a,s=M(t),c=s*r-u*o;return[w(u*r+s*o,l*n+c*i),E(c*n-l*i)]},a}function de(){var e,t=[];return{point:function(t,n,i){e.push([t,n,i])},lineStart:function(){t.push(e=[])},lineEnd:L,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function ve(e,t){return _(e[0]-t[0])<f&&_(e[1]-t[1])<f}function be(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ye(e,t,n,i,r){var o,a,l=[],u=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],a=e[t];if(ve(i,a)){if(!i[2]&&!a[2]){for(r.lineStart(),o=0;o<t;++o)r.point((i=e[o])[0],i[1]);return void r.lineEnd()}a[0]+=2e-6}l.push(n=new be(i,e,null,!0)),u.push(n.o=new be(i,null,n,!1)),l.push(n=new be(a,e,null,!1)),u.push(n.o=new be(a,null,n,!0))}})),l.length){for(u.sort(t),me(l),me(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var s,c,p=l[0];;){for(var f=p,h=!0;f.v;)if((f=f.n)===p)return;s=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(o=0,a=s.length;o<a;++o)r.point((c=s[o])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(h)for(s=f.p.z,o=s.length-1;o>=0;--o)r.point((c=s[o])[0],c[1]);else i(f.x,f.p.x,-1,r);f=f.p}s=(f=f.o).z,h=!h}while(!f.v);r.lineEnd()}}}function me(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function _e(e){return[w(e[1],e[0]),E(e[2])]}function Pe(e){var t=e[0],n=e[1],i=j(n);return[i*j(t),i*M(t),M(n)]}function we(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function je(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Oe(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function xe(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function De(e){var t=C(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Se(e){return _(e[0])<=g?e[0]:N(e[0])*((_(e[0])+g)%b-g)}function Me(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}function Ne(e,t,n,i){return function(r){var o,a,l,u=t(r),s=de(),c=t(s),h=!1,y={point:m,lineStart:P,lineEnd:O,polygonStart:function(){y.point=x,y.lineStart=D,y.lineEnd=S,a=[],o=[]},polygonEnd:function(){y.point=m,y.lineStart=P,y.lineEnd=O,a=Me(a);var e=function(e,t){var n=Se(t),i=t[1],r=M(i),o=[M(n),-j(n),0],a=0,l=0,u=new p;1===r?i=d+f:-1===r&&(i=-d-f);for(var s=0,c=e.length;s<c;++s)if(y=(h=e[s]).length)for(var h,y,m=h[y-1],_=Se(m),P=m[1]/2+v,O=M(P),x=j(P),D=0;D<y;++D,_=N,O=I,x=T,m=S){var S=h[D],N=Se(S),C=S[1]/2+v,I=M(C),T=j(C),L=N-_,k=L>=0?1:-1,z=k*L,R=z>g,Y=O*I;if(u.add(w(Y*k*M(z),x*T+Y*j(z))),a+=R?L+k*b:L,R^_>=n^N>=n){var X=je(Pe(m),Pe(S));De(X);var B=je(o,X);De(B);var G=(R^L>=0?-1:1)*E(B[2]);(i>G||i===G&&(X[0]||X[1]))&&(l+=R^L>=0?1:-1)}}return(a<-f||a<f&&u<-1e-12)^1&l}(o,i);a.length?(h||(r.polygonStart(),h=!0),ye(a,Ie,e,n,r)):e&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),a=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function m(t,n){e(t,n)&&r.point(t,n)}function _(e,t){u.point(e,t)}function P(){y.point=_,u.lineStart()}function O(){y.point=m,u.lineEnd()}function x(e,t){l.push([e,t]),c.point(e,t)}function D(){c.lineStart(),l=[]}function S(){x(l[0][0],l[0][1]),c.lineEnd();var e,t,n,i,u=c.clean(),p=s.result(),f=p.length;if(l.pop(),o.push(l),l=null,f)if(1&u){if((t=(n=p[0]).length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),e=0;e<t;++e)r.point((i=n[e])[0],i[1]);r.lineEnd()}}else f>1&&2&u&&p.push(p.pop().concat(p.shift())),a.push(p.filter(Ce))}return y}}function Ce(e){return e.length>1}function Ie(e,t){return((e=e.x)[0]<0?e[1]-d-f:d-e[1])-((t=t.x)[0]<0?t[1]-d-f:d-t[1])}ce.invert=ce;var Ee=Ne((function(){return!0}),(function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var l=o>0?g:-g,u=_(o-n);_(u-g)<f?(e.point(n,i=(i+a)/2>0?d:-d),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(l,i),e.point(o,i),t=0):r!==l&&u>=g&&(_(n-r)<f&&(n-=r*f),_(o-l)<f&&(o-=l*f),i=function(e,t,n,i){var r,o,a=M(e-n);return _(a)>f?P((M(t)*(o=j(i))*M(n)-M(i)*(r=j(t))*M(e))/(r*o*a)):(t+i)/2}(n,i,o,a),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(l,i),t=0),e.point(n=o,i=a),r=l},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}}),(function(e,t,n,i){var r;if(null==e)r=n*d,i.point(-g,r),i.point(0,r),i.point(g,r),i.point(g,0),i.point(g,-r),i.point(0,-r),i.point(-g,-r),i.point(-g,0),i.point(-g,r);else if(_(e[0]-t[0])>f){var o=e[0]<t[0]?g:-g;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])}),[-g,-d]);function Te(e){return function(){return e}}function Le(e,t,n,i,r,o){if(n){var a=j(t),l=M(t),u=i*n;null==r?(r=t+i*b,o=t-u/2):(r=ke(a,r),o=ke(a,o),(i>0?r<o:r>o)&&(r+=i*b));for(var s,c=r;i>0?c>o:c<o;c-=u)s=_e([a,-l*j(c),-l*M(c)]),e.point(s[0],s[1])}}function ke(e,t){(t=Pe(t))[0]-=e,De(t);var n,i=(n=-t[1])>1?0:n<-1?g:Math.acos(n);return((-t[2]<0?-i:i)+b-f)%b}function ze(e){var t=j(e),n=6*m,i=t>0,r=_(t)>f;function o(e,n){return j(e)*j(n)>t}function a(e,n,i){var r=[1,0,0],o=je(Pe(e),Pe(n)),a=we(o,o),l=o[0],u=a-l*l;if(!u)return!i&&e;var s=t*a/u,c=-t*l/u,p=je(r,o),h=xe(r,s);Oe(h,xe(o,c));var d=p,v=we(h,d),b=we(d,d),y=v*v-b*(we(h,h)-1);if(!(y<0)){var m=C(y),P=xe(d,(-v-m)/b);if(Oe(P,h),P=_e(P),!i)return P;var w,j=e[0],O=n[0],x=e[1],D=n[1];O<j&&(w=j,j=O,O=w);var S=O-j,M=_(S-g)<f;if(!M&&D<x&&(w=x,x=D,D=w),M||S<f?M?x+D>0^P[1]<(_(P[0]-j)<f?x:D):x<=P[1]&&P[1]<=D:S>g^(j<=P[0]&&P[0]<=O)){var N=xe(d,(-v+m)/b);return Oe(N,h),[P,_e(N)]}}}function l(t,n){var r=i?e:g-e,o=0;return t<-r?o|=1:t>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return Ne(o,(function(e){var t,n,u,s,c;return{lineStart:function(){s=u=!1,c=1},point:function(p,f){var h,d=[p,f],v=o(p,f),b=i?v?0:l(p,f):v?l(p+(p<0?g:-g),f):0;if(!t&&(s=u=v)&&e.lineStart(),v!==u&&(!(h=a(t,d))||ve(t,h)||ve(d,h))&&(d[2]=1),v!==u)c=0,v?(e.lineStart(),h=a(d,t),e.point(h[0],h[1])):(h=a(t,d),e.point(h[0],h[1],2),e.lineEnd()),t=h;else if(r&&t&&i^v){var y;b&n||!(y=a(d,t,!0))||(c=0,i?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1],3)))}!v||t&&ve(t,d)||e.point(d[0],d[1]),t=d,u=v,n=b},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return c|(s&&u)<<1}}}),(function(t,i,r,o){Le(o,e,n,r,t,i)}),i?[0,-e]:[-g,e-g])}var Re=1e9,Ye=-Re;function Xe(e,t,n,i){function r(r,o){return e<=r&&r<=n&&t<=o&&o<=i}function o(r,o,l,s){var c=0,p=0;if(null==r||(c=a(r,l))!==(p=a(o,l))||u(r,o)<0^l>0)do{s.point(0===c||3===c?e:n,c>1?i:t)}while((c=(c+l+4)%4)!==p);else s.point(o[0],o[1])}function a(i,r){return _(i[0]-e)<f?r>0?0:3:_(i[0]-n)<f?r>0?2:1:_(i[1]-t)<f?r>0?1:0:r>0?3:2}function l(e,t){return u(e.x,t.x)}function u(e,t){var n=a(e,1),i=a(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var u,s,c,p,f,h,g,d,v,b,y,m=a,_=de(),P={point:w,lineStart:function(){P.point=j,s&&s.push(c=[]),b=!0,v=!1,g=d=NaN},lineEnd:function(){u&&(j(p,f),h&&v&&_.rejoin(),u.push(_.result())),P.point=w,v&&m.lineEnd()},polygonStart:function(){m=_,u=[],s=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,r=s.length;n<r;++n)for(var o,a,l=s[n],u=1,c=l.length,p=l[0],f=p[0],h=p[1];u<c;++u)o=f,a=h,f=(p=l[u])[0],h=p[1],a<=i?h>i&&(f-o)*(i-a)>(h-a)*(e-o)&&++t:h<=i&&(f-o)*(i-a)<(h-a)*(e-o)&&--t;return t}(),n=y&&t,r=(u=Me(u)).length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),r&&ye(u,l,t,o,a),a.polygonEnd()),m=a,u=s=c=null}};function w(e,t){r(e,t)&&m.point(e,t)}function j(o,a){var l=r(o,a);if(s&&c.push([o,a]),b)p=o,f=a,h=l,b=!1,l&&(m.lineStart(),m.point(o,a));else if(l&&v)m.point(o,a);else{var u=[g=Math.max(Ye,Math.min(Re,g)),d=Math.max(Ye,Math.min(Re,d))],_=[o=Math.max(Ye,Math.min(Re,o)),a=Math.max(Ye,Math.min(Re,a))];!function(e,t,n,i,r,o){var a,l=e[0],u=e[1],s=0,c=1,p=t[0]-l,f=t[1]-u;if(a=n-l,p||!(a>0)){if(a/=p,p<0){if(a<s)return;a<c&&(c=a)}else if(p>0){if(a>c)return;a>s&&(s=a)}if(a=r-l,p||!(a<0)){if(a/=p,p<0){if(a>c)return;a>s&&(s=a)}else if(p>0){if(a<s)return;a<c&&(c=a)}if(a=i-u,f||!(a>0)){if(a/=f,f<0){if(a<s)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>s&&(s=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>s&&(s=a)}else if(f>0){if(a<s)return;a<c&&(c=a)}return s>0&&(e[0]=l+s*p,e[1]=u+s*f),c<1&&(t[0]=l+c*p,t[1]=u+c*f),!0}}}}}(u,_,e,t,n,i)?l&&(m.lineStart(),m.point(o,a),y=!1):(v||(m.lineStart(),m.point(u[0],u[1])),m.point(_[0],_[1]),l||m.lineEnd(),y=!1)}g=o,d=a,v=l}return P}}var Be=e=>e;function Ge(e){return function(t){var n=new Ze;for(var i in e)n[i]=e[i];return n.stream=t,n}}function Ze(){}Ze.prototype={constructor:Ze,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ae=1/0,We=Ae,Fe=-Ae,Ve=Fe,Je={point:function(e,t){e<Ae&&(Ae=e),e>Fe&&(Fe=e),t<We&&(We=t),t>Ve&&(Ve=t)},lineStart:L,lineEnd:L,polygonStart:L,polygonEnd:L,result:function(){var e=[[Ae,We],[Fe,Ve]];return Fe=Ve=-(We=Ae=1/0),e}},He=Je;function Qe(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=i&&e.clipExtent(null),W(n,e.stream(He)),t(He.result()),null!=i&&e.clipExtent(i),e}function Ue(e,t,n){return Qe(e,(function(n){var i=t[1][0]-t[0][0],r=t[1][1]-t[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),a=+t[0][0]+(i-o*(n[1][0]+n[0][0]))/2,l=+t[0][1]+(r-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,l])}),n)}function qe(e,t,n){return Ue(e,[[0,0],t],n)}function Ke(e,t,n){return Qe(e,(function(n){var i=+t,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,a=-r*n[0][1];e.scale(150*r).translate([o,a])}),n)}function $e(e,t,n){return Qe(e,(function(n){var i=+t,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],a=(i-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([o,a])}),n)}var et=j(30*m);function tt(e,t){return+t?function(e,t){function n(i,r,o,a,l,u,s,c,p,h,g,d,v,b){var y=s-i,m=c-r,P=y*y+m*m;if(P>4*t&&v--){var j=a+h,O=l+g,x=u+d,D=C(j*j+O*O+x*x),S=E(x/=D),M=_(_(x)-1)<f||_(o-p)<f?(o+p)/2:w(O,j),N=e(M,S),I=N[0],T=N[1],L=I-i,k=T-r,z=m*L-y*k;(z*z/P>t||_((y*L+m*k)/P-.5)>.3||a*h+l*g+u*d<et)&&(n(i,r,o,a,l,u,I,T,M,j/=D,O/=D,x,v,b),b.point(I,T),n(I,T,M,j,O,x,s,c,p,h,g,d,v,b))}}return function(t){var i,r,o,a,l,u,s,c,p,f,h,g,d={point:v,lineStart:b,lineEnd:m,polygonStart:function(){t.polygonStart(),d.lineStart=_},polygonEnd:function(){t.polygonEnd(),d.lineStart=b}};function v(n,i){n=e(n,i),t.point(n[0],n[1])}function b(){c=NaN,d.point=y,t.lineStart()}function y(i,r){var o=Pe([i,r]),a=e(i,r);n(c,p,s,f,h,g,c=a[0],p=a[1],s=i,f=o[0],h=o[1],g=o[2],16,t),t.point(c,p)}function m(){d.point=v,t.lineEnd()}function _(){b(),d.point=P,d.lineEnd=w}function P(e,t){y(i=e,t),r=c,o=p,a=f,l=h,u=g,d.point=y}function w(){n(c,p,s,f,h,g,r,o,i,a,l,u,16,t),d.lineEnd=m,m()}return d}}(e,t):function(e){return Ge({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var nt=Ge({point:function(e,t){this.stream.point(e*m,t*m)}});function it(e,t,n,i,r,o){if(!o)return function(e,t,n,i,r){function o(o,a){return[t+e*(o*=i),n-e*(a*=r)]}return o.invert=function(o,a){return[(o-t)/e*i,(n-a)/e*r]},o}(e,t,n,i,r);var a=j(o),l=M(o),u=a*e,s=l*e,c=a/e,p=l/e,f=(l*n-a*t)/e,h=(l*t+a*n)/e;function g(e,o){return[u*(e*=i)-s*(o*=r)+t,n-s*e-u*o]}return g.invert=function(e,t){return[i*(c*e-p*t+f),r*(h-p*e-c*t)]},g}function rt(e){return ot((function(){return e}))()}function ot(e){var t,n,i,r,o,a,l,u,s,c,p=150,f=480,h=250,g=0,d=0,v=0,b=0,_=0,P=0,w=1,j=1,O=null,x=Ee,D=null,S=Be,M=.5;function N(e){return u(e[0]*m,e[1]*m)}function I(e){return(e=u.invert(e[0],e[1]))&&[e[0]*y,e[1]*y]}function E(){var e=it(p,0,0,w,j,P).apply(null,t(g,d)),i=it(p,f-e[0],h-e[1],w,j,P);return n=pe(v,b,_),l=se(t,i),u=se(n,l),a=tt(l,M),T()}function T(){return s=c=null,N}return N.stream=function(e){return s&&c===e?s:s=nt(function(e){return Ge({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}(n)(x(a(S(c=e)))))},N.preclip=function(e){return arguments.length?(x=e,O=void 0,T()):x},N.postclip=function(e){return arguments.length?(S=e,D=i=r=o=null,T()):S},N.clipAngle=function(e){return arguments.length?(x=+e?ze(O=e*m):(O=null,Ee),T()):O*y},N.clipExtent=function(e){return arguments.length?(S=null==e?(D=i=r=o=null,Be):Xe(D=+e[0][0],i=+e[0][1],r=+e[1][0],o=+e[1][1]),T()):null==D?null:[[D,i],[r,o]]},N.scale=function(e){return arguments.length?(p=+e,E()):p},N.translate=function(e){return arguments.length?(f=+e[0],h=+e[1],E()):[f,h]},N.center=function(e){return arguments.length?(g=e[0]%360*m,d=e[1]%360*m,E()):[g*y,d*y]},N.rotate=function(e){return arguments.length?(v=e[0]%360*m,b=e[1]%360*m,_=e.length>2?e[2]%360*m:0,E()):[v*y,b*y,_*y]},N.angle=function(e){return arguments.length?(P=e%360*m,E()):P*y},N.reflectX=function(e){return arguments.length?(w=e?-1:1,E()):w<0},N.reflectY=function(e){return arguments.length?(j=e?-1:1,E()):j<0},N.precision=function(e){return arguments.length?(a=tt(l,M=e*e),T()):C(M)},N.fitExtent=function(e,t){return Ue(N,e,t)},N.fitSize=function(e,t){return qe(N,e,t)},N.fitWidth=function(e,t){return Ke(N,e,t)},N.fitHeight=function(e,t){return $e(N,e,t)},function(){return t=e.apply(this,arguments),N.invert=t.invert&&I,E()}}function at(e,t){return[e,S(I((d+t)/2))]}function lt(){return function(e){var t,n,i,r=rt(e),o=r.center,a=r.scale,l=r.translate,u=r.clipExtent,s=null;function c(){var o=g*a(),l=r(function(e){function t(t){return(t=e(t[0]*m,t[1]*m))[0]*=y,t[1]*=y,t}return e=pe(e[0]*m,e[1]*m,e.length>2?e[2]*m:0),t.invert=function(t){return(t=e.invert(t[0]*m,t[1]*m))[0]*=y,t[1]*=y,t},t}(r.rotate()).invert([0,0]));return u(null==s?[[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]]:e===at?[[Math.max(l[0]-o,s),t],[Math.min(l[0]+o,n),i]]:[[s,Math.max(l[1]-o,t)],[n,Math.min(l[1]+o,i)]])}return r.scale=function(e){return arguments.length?(a(e),c()):a()},r.translate=function(e){return arguments.length?(l(e),c()):l()},r.center=function(e){return arguments.length?(o(e),c()):o()},r.clipExtent=function(e){return arguments.length?(null==e?s=t=n=i=null:(s=+e[0][0],t=+e[0][1],n=+e[1][0],i=+e[1][1]),c()):null==s?null:[[s,t],[n,i]]},c()}(at).scale(961/b)}at.invert=function(e,t){return[e,2*P(x(t))-d]};var ut,st,ct,pt,ft=n(9395),ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"setupDefaultRules",{enumerable:!1,configurable:!0,writable:!0,value:function(){e.prototype.setupDefaultRules.call(this);var t,n=this._root.interfaceColors,i=this.rule.bind(this);i("MapChart").setAll({projection:lt(),panX:"translateX",panY:"translateY",pinchZoom:!0,zoomStep:2,zoomLevel:1,rotationX:0,rotationY:0,rotationZ:0,maxZoomLevel:32,minZoomLevel:1,wheelY:"zoom",wheelX:"none",animationEasing:ft.out(ft.cubic),wheelEasing:ft.out(ft.cubic),wheelDuration:0,wheelSensitivity:1,maxPanOut:.4,centerMapOnZoomOut:!0}),(t=i("MapLine")).setAll({precision:.5,role:"figure"}),(0,ue.v)(t,"stroke",n,"grid"),i("MapPolygonSeries").setAll({affectsBounds:!0}),i("MapPointSeries").setAll({affectsBounds:!1,clipFront:!1,clipBack:!0,autoScale:!1}),i("MapLineSeries").setAll({affectsBounds:!1}),(t=i("MapPolygon")).setAll({precision:.5,isMeasured:!1,role:"figure",fillOpacity:1,position:"absolute",strokeWidth:.2,strokeOpacity:1}),(0,ue.v)(t,"fill",n,"primaryButton"),(0,ue.v)(t,"stroke",n,"background"),i("Graphics",["map","button","plus","icon"]).setAll({x:s.CI,y:s.CI,draw:function(e){e.moveTo(-4,0),e.lineTo(4,0),e.moveTo(0,-4),e.lineTo(0,4)}}),i("Graphics",["map","button","minus","icon"]).setAll({x:s.CI,y:s.CI,draw:function(e){e.moveTo(-4,0),e.lineTo(4,0)}}),i("GraticuleSeries").setAll({step:10}),i("ZoomControl").setAll({x:s.AQ,centerX:s.AQ,y:s.AQ,centerY:s.AQ,paddingRight:10,paddingBottom:10})}}),t}(le.Q),gt=n(5829),dt=n(7142),vt=new p,bt=new p,yt={point:L,lineStart:L,lineEnd:L,polygonStart:function(){yt.lineStart=mt,yt.lineEnd=wt},polygonEnd:function(){yt.lineStart=yt.lineEnd=yt.point=L,vt.add(_(bt)),bt=new p},result:function(){var e=vt/2;return vt=new p,e}};function mt(){yt.point=_t}function _t(e,t){yt.point=Pt,ut=ct=e,st=pt=t}function Pt(e,t){bt.add(pt*e-ct*t),ct=e,pt=t}function wt(){Pt(ut,st)}var jt,Ot,xt,Dt,St=yt,Mt=0,Nt=0,Ct=0,It=0,Et=0,Tt=0,Lt=0,kt=0,zt=0,Rt={point:Yt,lineStart:Xt,lineEnd:Zt,polygonStart:function(){Rt.lineStart=At,Rt.lineEnd=Wt},polygonEnd:function(){Rt.point=Yt,Rt.lineStart=Xt,Rt.lineEnd=Zt},result:function(){var e=zt?[Lt/zt,kt/zt]:Tt?[It/Tt,Et/Tt]:Ct?[Mt/Ct,Nt/Ct]:[NaN,NaN];return Mt=Nt=Ct=It=Et=Tt=Lt=kt=zt=0,e}};function Yt(e,t){Mt+=e,Nt+=t,++Ct}function Xt(){Rt.point=Bt}function Bt(e,t){Rt.point=Gt,Yt(xt=e,Dt=t)}function Gt(e,t){var n=e-xt,i=t-Dt,r=C(n*n+i*i);It+=r*(xt+e)/2,Et+=r*(Dt+t)/2,Tt+=r,Yt(xt=e,Dt=t)}function Zt(){Rt.point=Yt}function At(){Rt.point=Ft}function Wt(){Vt(jt,Ot)}function Ft(e,t){Rt.point=Vt,Yt(jt=xt=e,Ot=Dt=t)}function Vt(e,t){var n=e-xt,i=t-Dt,r=C(n*n+i*i);It+=r*(xt+e)/2,Et+=r*(Dt+t)/2,Tt+=r,Lt+=(r=Dt*e-xt*t)*(xt+e),kt+=r*(Dt+t),zt+=3*r,Yt(xt=e,Dt=t)}var Jt=Rt;function Ht(e){this._context=e}Ht.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,b)}},result:L};var Qt,Ut,qt,Kt,$t,en=new p,tn={point:L,lineStart:function(){tn.point=nn},lineEnd:function(){Qt&&rn(Ut,qt),tn.point=L},polygonStart:function(){Qt=!0},polygonEnd:function(){Qt=null},result:function(){var e=+en;return en=new p,e}};function nn(e,t){tn.point=rn,Ut=Kt=e,qt=$t=t}function rn(e,t){Kt-=e,$t-=t,en.add(C(Kt*Kt+$t*$t)),Kt=e,$t=t}var on=tn;function an(){this._string=[]}function ln(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}an.prototype={_radius:4.5,_circle:ln(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=ln(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var un,sn,cn,pn,fn,hn,gn,dn,vn,bn,yn,mn,_n,Pn,wn,jn,On=n(1112),xn=n(3145),Dn=n(751),Sn={sphere:L,point:Mn,lineStart:Cn,lineEnd:Tn,polygonStart:function(){Sn.lineStart=Ln,Sn.lineEnd=kn},polygonEnd:function(){Sn.lineStart=Cn,Sn.lineEnd=Tn}};function Mn(e,t){e*=m;var n=j(t*=m);Nn(n*j(e),n*M(e),M(t))}function Nn(e,t,n){++un,cn+=(e-cn)/un,pn+=(t-pn)/un,fn+=(n-fn)/un}function Cn(){Sn.point=In}function In(e,t){e*=m;var n=j(t*=m);Pn=n*j(e),wn=n*M(e),jn=M(t),Sn.point=En,Nn(Pn,wn,jn)}function En(e,t){e*=m;var n=j(t*=m),i=n*j(e),r=n*M(e),o=M(t),a=w(C((a=wn*o-jn*r)*a+(a=jn*i-Pn*o)*a+(a=Pn*r-wn*i)*a),Pn*i+wn*r+jn*o);sn+=a,hn+=a*(Pn+(Pn=i)),gn+=a*(wn+(wn=r)),dn+=a*(jn+(jn=o)),Nn(Pn,wn,jn)}function Tn(){Sn.point=Mn}function Ln(){Sn.point=zn}function kn(){Rn(mn,_n),Sn.point=Mn}function zn(e,t){mn=e,_n=t,e*=m,t*=m,Sn.point=Rn;var n=j(t);Pn=n*j(e),wn=n*M(e),jn=M(t),Nn(Pn,wn,jn)}function Rn(e,t){e*=m;var n=j(t*=m),i=n*j(e),r=n*M(e),o=M(t),a=wn*o-jn*r,l=jn*i-Pn*o,u=Pn*r-wn*i,s=D(a,l,u),c=E(s),p=s&&-c/s;vn.add(p*a),bn.add(p*l),yn.add(p*u),sn+=c,hn+=c*(Pn+(Pn=i)),gn+=c*(wn+(wn=r)),dn+=c*(jn+(jn=o)),Nn(Pn,wn,jn)}var Yn,Xn,Bn,Gn,Zn,An,Wn,Fn,Vn,Jn,Hn,Qn,Un,qn,Kn,$n,ei=new p,ti=new p,ni={point:L,lineStart:L,lineEnd:L,polygonStart:function(){ei=new p,ni.lineStart=ii,ni.lineEnd=ri},polygonEnd:function(){var e=+ei;ti.add(e<0?b+e:e),this.lineStart=this.lineEnd=this.point=L},sphere:function(){ti.add(b)}};function ii(){ni.point=oi}function ri(){ai(Yn,Xn)}function oi(e,t){ni.point=ai,Yn=e,Xn=t,Bn=e*=m,Gn=j(t=(t*=m)/2+v),Zn=M(t)}function ai(e,t){var n=(e*=m)-Bn,i=n>=0?1:-1,r=i*n,o=j(t=(t*=m)/2+v),a=M(t),l=Zn*a,u=Gn*o+l*j(r),s=l*i*M(r);ei.add(w(s,u)),Bn=e,Gn=o,Zn=a}function li(e){return ti=new p,W(e,ni),2*ti}var ui={point:si,lineStart:pi,lineEnd:fi,polygonStart:function(){ui.point=hi,ui.lineStart=gi,ui.lineEnd=di,qn=new p,ni.polygonStart()},polygonEnd:function(){ni.polygonEnd(),ui.point=si,ui.lineStart=pi,ui.lineEnd=fi,ei<0?(An=-(Fn=180),Wn=-(Vn=90)):qn>f?Vn=90:qn<-f&&(Wn=-90),$n[0]=An,$n[1]=Fn},sphere:function(){An=-(Fn=180),Wn=-(Vn=90)}};function si(e,t){Kn.push($n=[An=e,Fn=e]),t<Wn&&(Wn=t),t>Vn&&(Vn=t)}function ci(e,t){var n=Pe([e*m,t*m]);if(Un){var i=je(Un,n),r=je([i[1],-i[0],0],i);De(r),r=_e(r);var o,a=e-Jn,l=a>0?1:-1,u=r[0]*y*l,s=_(a)>180;s^(l*Jn<u&&u<l*e)?(o=r[1]*y)>Vn&&(Vn=o):s^(l*Jn<(u=(u+360)%360-180)&&u<l*e)?(o=-r[1]*y)<Wn&&(Wn=o):(t<Wn&&(Wn=t),t>Vn&&(Vn=t)),s?e<Jn?vi(An,e)>vi(An,Fn)&&(Fn=e):vi(e,Fn)>vi(An,Fn)&&(An=e):Fn>=An?(e<An&&(An=e),e>Fn&&(Fn=e)):e>Jn?vi(An,e)>vi(An,Fn)&&(Fn=e):vi(e,Fn)>vi(An,Fn)&&(An=e)}else Kn.push($n=[An=e,Fn=e]);t<Wn&&(Wn=t),t>Vn&&(Vn=t),Un=n,Jn=e}function pi(){ui.point=ci}function fi(){$n[0]=An,$n[1]=Fn,ui.point=si,Un=null}function hi(e,t){if(Un){var n=e-Jn;qn.add(_(n)>180?n+(n>0?360:-360):n)}else Hn=e,Qn=t;ni.point(e,t),ci(e,t)}function gi(){ni.lineStart()}function di(){hi(Hn,Qn),ni.lineEnd(),_(qn)>f&&(An=-(Fn=180)),$n[0]=An,$n[1]=Fn,Un=null}function vi(e,t){return(t-=e)<0?t+360:t}function bi(e,t){return e[0]-t[0]}function yi(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function mi(e,t){return function(){var e,t,n=Te([0,0]),i=Te(90),r=Te(6),o={point:function(n,i){e.push(n=t(n,i)),n[0]*=y,n[1]*=y}};function a(){var a=n.apply(this,arguments),l=i.apply(this,arguments)*m,u=r.apply(this,arguments)*m;return e=[],t=pe(-a[0]*m,-a[1]*m,0).invert,Le(o,l,u,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n="function"==typeof e?e:Te([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(i="function"==typeof e?e:Te(+e),a):i},a.precision=function(e){return arguments.length?(r="function"==typeof e?e:Te(+e),a):r},a}().center([e.longitude,e.latitude]).radius(t)()}function _i(e){var t=function(e){un=sn=cn=pn=fn=hn=gn=dn=0,vn=new p,bn=new p,yn=new p,W(e,Sn);var t=+vn,n=+bn,i=+yn,r=D(t,n,i);return r<h&&(t=hn,n=gn,i=dn,sn<f&&(t=cn,n=pn,i=fn),(r=D(t,n,i))<h)?[NaN,NaN]:[w(n,t)*y,E(i/r)*y]}(e);return{longitude:t[0],latitude:t[1]}}function Pi(e){var t=function(e){var t,n,i,r,o,a,l;if(Vn=Fn=-(An=Wn=1/0),Kn=[],W(e,ui),n=Kn.length){for(Kn.sort(bi),t=1,o=[i=Kn[0]];t<n;++t)yi(i,(r=Kn[t])[0])||yi(i,r[1])?(vi(i[0],r[1])>vi(i[0],i[1])&&(i[1]=r[1]),vi(r[0],i[1])>vi(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(a=-1/0,t=0,i=o[n=o.length-1];t<=n;i=r,++t)r=o[t],(l=vi(i[1],r[0]))>a&&(a=l,An=r[0],Fn=i[1])}return Kn=$n=null,An===1/0||Wn===1/0?[[NaN,NaN],[NaN,NaN]]:[[An,Wn],[Fn,Vn]]}(e);if(t){var n={left:t[0][0],right:t[1][0],top:t[1][1],bottom:t[0][1]};return n.right<n.left&&(n.right=180,n.left=-180),n}return{left:0,right:0,top:0,bottom:0}}function wi(e,t,n,i){var r=[];i<=-180&&(i=-179.9999),n<=-90&&(n=-89.9999),e>=90&&(e=89.9999),t>=180&&(t=179.9999);for(var o=Math.min(90,(t-i)/Math.ceil((t-i)/90)),a=(e-n)/Math.ceil((e-n)/90),l=i;l<t;l+=o){var u=[];r.push([u]),l+o>t&&(o=t-l);for(var s=l;s<=l+o;s+=5)u.push([s,e]);for(var c=e;c>=n;c-=a)u.push([l+o,c]);for(s=l+o;s>=l;s-=5)u.push([s,n]);for(c=n;c<=e;c+=a)u.push([l,c])}return{type:"MultiPolygon",coordinates:r}}function ji(e){var t=Oi(e.longitude),n=Math.asin(Math.sin(e.latitude*Dn.RADIANS))*Dn.DEGREES,i=Oi(e.latitude);return Math.abs(i)>90&&(t=Oi(t+180)),e.longitude=t,e.latitude=n,e}function Oi(e){return(e%=360)>180&&(e-=360),e<-180&&(e+=360),e}var xi=n(7652),Di=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"_downTranslateX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_downTranslateY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_downRotationX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_downRotationY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_downRotationZ",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_pLat",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"_pLon",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(t,"_downZoomLevel",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(t,"_doubleDownDistance",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"_dirtyGeometries",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"_geometryColection",{enumerable:!0,configurable:!0,writable:!0,value:{type:"GeometryCollection",geometries:[]}}),Object.defineProperty(t,"_centerLocation",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t,"_za",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_rxa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_rya",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_txa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_tya",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_mapBounds",{enumerable:!0,configurable:!0,writable:!0,value:[[0,0],[0,0]]}),Object.defineProperty(t,"_geoCentroid",{enumerable:!0,configurable:!0,writable:!0,value:{longitude:0,latitude:0}}),Object.defineProperty(t,"_geoBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(t,"_prevGeoBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(t,"_dispatchBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_mapFitted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"_centerX",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"_centerY",{enumerable:!0,configurable:!0,writable:!0,value:0}),t}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"_makeGeoPath",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("projection"),t=function(e,t){var n,i,r=4.5;function o(e){return e&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),W(e,n(i))),i.result()}return o.area=function(e){return W(e,n(St)),St.result()},o.measure=function(e){return W(e,n(on)),on.result()},o.bounds=function(e){return W(e,n(He)),He.result()},o.centroid=function(e){return W(e,n(Jt)),Jt.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,Be):(e=t).stream,o):e},o.context=function(e){return arguments.length?(i=null==e?(t=null,new an):new Ht(t=e),"function"!=typeof r&&i.pointRadius(r),o):t},o.pointRadius=function(e){return arguments.length?(r="function"==typeof e?e:(i.pointRadius(+e),+e),o):r},o.projection(e).context(t)}();t.projection(e),this.setPrivateRaw("geoPath",t)}}),Object.defineProperty(t.prototype,"geoPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.invert(this.seriesContainer.toGlobal({x:this.width()/2,y:this.height()/2}))}}),Object.defineProperty(t.prototype,"geoCentroid",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._geoCentroid}}),Object.defineProperty(t.prototype,"geoBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._geoBounds}}),Object.defineProperty(t.prototype,"_handleSetWheel",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.get("wheelX"),n=this.get("wheelY"),i=this.chartContainer;"none"!=t||"none"!=n?(this._wheelDp&&this._wheelDp.dispose(),this._wheelDp=i.events.on("wheel",(function(i){var r=e.get("wheelEasing"),o=e.get("wheelSensitivity",1),a=e.get("wheelDuration",0),l=i.originalEvent;if(xi.isLocalEvent(l,e)){l.preventDefault();var u=e.chartContainer._display.toLocal(i.point);"zoom"==n?e._handleWheelZoom(l.deltaY,u):"rotateY"==n?e._handleWheelRotateY(l.deltaY/5*o,a,r):"rotateX"==n&&e._handleWheelRotateX(l.deltaY/5*o,a,r),"zoom"==t?e._handleWheelZoom(l.deltaX,u):"rotateY"==t?e._handleWheelRotateY(l.deltaX/5*o,a,r):"rotateX"==t&&e._handleWheelRotateX(l.deltaX/5*o,a,r)}})),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}}),Object.defineProperty(t.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this;e.prototype._prepareChildren.call(this);var n=this.get("projection"),i=this.innerWidth(),r=this.innerHeight();if(this.isDirty("projection")){this._makeGeoPath(),this.markDirtyProjection(),this._fitMap(),n.scale(this.getPrivate("mapScale")*this.get("zoomLevel",1)),n.rotate&&n.rotate([this.get("rotationX",0),this.get("rotationY",0),this.get("rotationZ",0)]);var a=this._prevSettings.projection;if(a&&a!=n){var l=i/2,u=r/2;if(a.invert){var s=a.invert([l,u]);if(s&&(g=n(s))){var c=n.translate(),p=l-(g[0]-c[0]),f=u-(g[1]-c[1]);n.translate([p,f]),this.setRaw("translateX",p),this.setRaw("translateY",f)}}}}(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel();var h=this._geometryColection.geometries;if(this._dirtyGeometries&&(this._geometryColection.geometries=[],this.series.each((function(e){o.pushAll(t._geometryColection.geometries,e._geometries)})),this._fitMap()),0!=h.length&&(i!=this._pw||r!=this._ph||this._dirtyGeometries)&&i>0&&r>0){l=i/2,u=r/2,n.fitSize([i,r],this._geometryColection);var g,d=n.scale();this.setPrivateRaw("mapScale",d),n.scale(d*this.get("zoomLevel",1)),this._centerLocation&&(g=n(this._centerLocation))&&(c=n.translate(),p=l-(g[0]-c[0]),f=u-(g[1]-c[1]),n.translate([p,f]),this.setRaw("translateX",p),this.setRaw("translateY",f),this._centerX=c[0],this._centerY=c[1]),this.markDirtyProjection();var v=this.getPrivate("geoPath");this._mapBounds=v.bounds(this._geometryColection)}if(this._pw=i,this._ph=r,this.isDirty("zoomControl")){var b=this._prevSettings.zoomControl,y=this.get("zoomControl");y!==b&&(this._disposeProperty("zoomControl"),b&&b.dispose(),y&&(y.setPrivate("chart",this),this.children.push(y)),this.setRaw("zoomControl",y))}this.isDirty("zoomLevel")&&(n.scale(this.getPrivate("mapScale")*this.get("zoomLevel",1)),this.markDirtyProjection(),this.series.each((function(e){e.isType("MapPointSeries")&&e.get("autoScale")&&o.each(e.dataItems,(function(e){var n=e.bullets;n&&o.each(n,(function(e){var n=e.get("sprite");n&&n.set("scale",t.get("zoomLevel"))}))}))}))),(this.isDirty("translateX")||this.isDirty("translateY"))&&(n.translate([this.get("translateX",this.width()/2),this.get("translateY",this.height()/2)]),this.markDirtyProjection()),n.rotate&&(this.isDirty("rotationX")||this.isDirty("rotationY")||this.isDirty("rotationZ"))&&(n.rotate([this.get("rotationX",0),this.get("rotationY",0),this.get("rotationZ",0)]),this.markDirtyProjection()),(this.isDirty("pinchZoom")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}}),Object.defineProperty(t.prototype,"_fitMap",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("projection"),t=this.innerWidth(),n=this.innerHeight();if(t>0&&n>0){e.fitSize([t,n],this._geometryColection),this.setPrivateRaw("mapScale",e.scale());var i=e.translate();this.setRaw("translateX",i[0]),this.setRaw("translateY",i[1]),this._centerX=i[0],this._centerY=i[1];var r=this.getPrivate("geoPath");this._mapBounds=r.bounds(this._geometryColection),this._geoCentroid=_i(this._geometryColection);var o=Pi(this._geometryColection);if(this._geoBounds=o,this._geometryColection.geometries.length>0){o.left=Dn.round(this._geoBounds.left,3),o.right=Dn.round(this._geoBounds.right,3),o.top=Dn.round(this._geoBounds.top,3),o.bottom=Dn.round(this._geoBounds.bottom,3);var a=this._prevGeoBounds;a&&!xi.sameBounds(o,a)&&(this._dispatchBounds=!0,this._prevGeoBounds=o)}this._mapFitted=!0}}}),Object.defineProperty(t.prototype,"homeGeoPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("homeGeoPoint");if(!e){var t=this.getPrivate("geoPath").bounds(this._geometryColection),n=t[0][0],i=t[0][1],r=t[1][0],o=t[1][1];e=this.invert({x:n+(r-n)/2,y:i+(o-i)/2})}return e}}),Object.defineProperty(t.prototype,"goHome",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.zoomToGeoPoint(this.homeGeoPoint(),this.get("homeZoomLevel",1),!0,e)}}),Object.defineProperty(t.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this.get("projection");if(t.invert){var n=this.innerWidth(),i=this.innerHeight();n>0&&i>0&&(this._centerLocation=t.invert([this.innerWidth()/2,this.innerHeight()/2]))}e.prototype._updateChildren.call(this)}}),Object.defineProperty(t.prototype,"_afterChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(e.prototype._afterChanged.call(this),this._dispatchBounds){this._dispatchBounds=!1;var t="geoboundschanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}}}),Object.defineProperty(t.prototype,"_setUpTouch",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.chartContainer._display.cancelTouch||(this.chartContainer._display.cancelTouch=!!(this.get("pinchZoom")||this.get("panX")||this.get("panY")))}}),Object.defineProperty(t.prototype,"markDirtyGeometries",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._dirtyGeometries=!0,this.markDirty()}}),Object.defineProperty(t.prototype,"markDirtyProjection",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.series.each((function(e){e.markDirtyProjection()}))}}),Object.defineProperty(t.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this;this._defaultThemes.push(ht.new(this._root)),this._settings.themeTags=xi.mergeTags(this._settings.themeTags,["map"]),this.children.push(this.bulletsContainer),e.prototype._afterNew.call(this),this._makeGeoPath(),this.chartContainer.children.push(this.seriesContainer),null==this.get("translateX")&&this.set("translateX",this.width()/2),null==this.get("translateY")&&this.set("translateY",this.height()/2),this.chartContainer.set("interactive",!0),this.chartContainer.set("interactiveChildren",!1),this.chartContainer.set("background",dt.A.new(this._root,{themeTags:["map","background"],fill:On.Il.fromHex(0),fillOpacity:0})),this._disposers.push(this.chartContainer.events.on("pointerdown",(function(e){t._handleChartDown(e)}))),this._disposers.push(this.chartContainer.events.on("globalpointerup",(function(e){t._handleChartUp(e)}))),this._disposers.push(this.chartContainer.events.on("globalpointermove",(function(e){t._handleChartMove(e)})));for(var n=!1,i=0;i<xn.i_.licenses.length;i++)xn.i_.licenses[i].match(/^AM5M.{5,}/i)&&(n=!0);n||this._root._showBranding(),this._setUpTouch()}}),Object.defineProperty(t.prototype,"_handleChartDown",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._downZoomLevel=this.get("zoomLevel",1);var t=a.keys(this.chartContainer._downPoints).length;if(1==t&&(o=this.chartContainer._downPoints[1])&&o.x==e.point.x&&o.y==e.point.y&&(t=0),t>0){this._downTranslateX=this.get("translateX"),this._downTranslateY=this.get("translateY"),this._downRotationX=this.get("rotationX"),this._downRotationY=this.get("rotationY"),this._downRotationZ=this.get("rotationZ");var n=this.chartContainer._getDownPointId();if(n){var i=this._movePoints[n];i&&(this.chartContainer._downPoints[n]=i)}}else if(0==t){var r=this.chartContainer.get("background");if(r&&r.events.enableType("click"),this.get("panX")||this.get("panY")){this._za&&this._za.stop(),this._txa&&this._txa.stop(),this._tya&&this._tya.stop(),this._rxa&&this._rxa.stop(),this._rya&&this._rya.stop();var o=this.chartContainer._display.toLocal(e.point);this._downTranslateX=this.get("translateX"),this._downTranslateY=this.get("translateY"),this._downRotationX=this.get("rotationX"),this._downRotationY=this.get("rotationY"),this._downRotationZ=this.get("rotationZ");var l=this.get("projection");if(l.invert){var u=l.invert([o.x,o.y]),s=l.invert([o.x+1,o.y+1]);u&&s&&(this._pLon=Math.abs(s[0]-u[0]),this._pLat=Math.abs(s[1]-u[1]))}}}}}),Object.defineProperty(t.prototype,"invert",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("projection");if(t.invert){var n=t.invert([e.x,e.y]);if(n)return{longitude:n[0],latitude:n[1]}}return{longitude:0,latitude:0}}}),Object.defineProperty(t.prototype,"convert",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("projection")([e.longitude,e.latitude]);return t?{x:t[0],y:t[1]}:{x:0,y:0}}}),Object.defineProperty(t.prototype,"_handleChartUp",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.chartContainer._downPoints={}}}),Object.defineProperty(t.prototype,"_handlePinch",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.chartContainer,n=0,i=[],r=[];if(a.each(t._downPoints,(function(t,o){i[n]=o;var a=e._movePoints[t];a&&(r[n]=a),n++})),i.length>1&&r.length>1){var o=t._display,l=i[0],u=i[1],s=r[0],c=r[1];if(l&&u&&s&&c){l=o.toLocal(l),u=o.toLocal(u),s=o.toLocal(s),c=o.toLocal(c);var p=Math.hypot(u.x-l.x,u.y-l.y),f=Math.hypot(c.x-s.x,c.y-s.y)/p*this._downZoomLevel;f=Dn.fitToRange(f,this.get("minZoomLevel",1),this.get("maxZoomLevel",32));var h={x:s.x+(c.x-s.x)/2,y:s.y+(c.y-s.y)/2},g={x:l.x+(u.x-l.x)/2,y:l.y+(u.y-l.y)/2},d=this._downTranslateX||0,v=this._downTranslateY||0,b=this._downZoomLevel,y=h.x-(-d+g.x)/b*f,m=h.y-(-v+g.y)/b*f;this.set("zoomLevel",f),this.set("translateX",y),this.set("translateY",m)}}}}),Object.defineProperty(t.prototype,"_handleChartMove",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.chartContainer,n=t._getDownPoint(),i=t._getDownPointId(),r=e.originalEvent.pointerId;if(this.get("pinchZoom")&&r&&(this._movePoints[r]=e.point,a.keys(t._downPoints).length>1))this._handlePinch();else if((!i||!r||r==i)&&n){var o=this.get("panX"),l=this.get("panY");if("none"!=o||"none"!=l){var s=t._display,c=s.toLocal(e.point);n=s.toLocal(n);var p=this._downTranslateX,f=this._downTranslateY;if(Math.hypot(n.x-c.x,n.y-c.y)>5){var h=t.get("background");if(h&&h.events.disableType("click"),u.isNumber(p)&&u.isNumber(f)){var g=this.get("projection"),d=this.get("zoomLevel",1),v=this.get("maxPanOut",.4),b=this._mapBounds,y=this.width(),m=this.height(),_=b[1][0]-b[0][0],P=b[1][1]-b[0][1];if("translateX"==o){p+=c.x-n.x;var w=y/2-(y/2-this._centerX)*d;p=Math.min(p,w+_*v*d),p=Math.max(p,w-_*v*d)}if("translateY"==l){f+=c.y-n.y;var j=m/2-(m/2-this._centerY)*d;f=Math.min(f,j+P*v*d),f=Math.max(f,j-P*v*d)}if(this.set("translateX",p),this.set("translateY",f),g.invert){var O=g.invert([n.x,n.y]);location&&O&&("rotateX"==o&&this.set("rotationX",this._downRotationX-(n.x-c.x)*this._pLon),"rotateY"==l&&this.set("rotationY",this._downRotationY+(n.y-c.y)*this._pLat))}}}}}}}),Object.defineProperty(t.prototype,"_handleWheelRotateY",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this._rya=this.animate({key:"rotationY",to:this.get("rotationY",0)-e,duration:t,easing:n})}}),Object.defineProperty(t.prototype,"_handleWheelRotateX",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this._rxa=this.animate({key:"rotationX",to:this.get("rotationX",0)-e,duration:t,easing:n})}}),Object.defineProperty(t.prototype,"_handleWheelZoom",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.get("zoomStep",2),i=this.get("zoomLevel",1),r=i;e>0?r=i/n:e<0&&(r=i*n),r!=i&&this.zoomToPoint(t,r)}}),Object.defineProperty(t.prototype,"zoomToGeoBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.right<e.left&&(e.right=180,e.left=-180);var n=this.getPrivate("geoPath").bounds(this._geometryColection),i=this.convert({longitude:e.left,latitude:e.top}),r=this.convert({longitude:e.right,latitude:e.bottom});i.y<n[0][1]&&(i.y=n[0][1]),r.y>n[1][1]&&(r.y=n[1][1]);var o=this.get("zoomLevel",1),a=i.x,l=r.x,u=i.y,s=r.y,c=this.seriesContainer,p=.9*Math.min(c.innerWidth()/(l-a)*o,c.innerHeight()/(s-u)*o),f=a+(l-a)/2,h=u+(s-u)/2,g=this.invert({x:f,y:h});return this.zoomToGeoPoint(g,p,!0,t)}}),Object.defineProperty(t.prototype,"zoomToPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,i){t&&(t=Dn.fitToRange(t,this.get("minZoomLevel",1),this.get("maxZoomLevel",32))),u.isNumber(i)||(i=this.get("animationDuration",0));var r=this.get("animationEasing"),o=this.get("zoomLevel",1);this.get("centerMapOnZoomOut")&&t==this.get("homeZoomLevel",1)&&(e=this.convert(this.homeGeoPoint()),n=!0);var a=e.x,l=e.y,s=this.get("translateX",0),c=this.get("translateY",0),p=a,f=l;n&&(p=this.width()/2,f=this.height()/2);var h=p-(a-s)/o*t,g=f-(l-c)/o*t;return this._txa=this.animate({key:"translateX",to:h,duration:i,easing:r}),this._tya=this.animate({key:"translateY",to:g,duration:i,easing:r}),this._za=this.animate({key:"zoomLevel",to:t,duration:i,easing:r}),o!=t&&this._root.readerAlert(this._t("Zoom level changed to %1",this._root.locale,u.numberToString(t))),this._za}}),Object.defineProperty(t.prototype,"zoomToGeoPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,i){var r=this.convert(e);if(r)return this.zoomToPoint(r,t,n,i)}}),Object.defineProperty(t.prototype,"zoomIn",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.get("zoomLevel",1)*this.get("zoomStep",2))}}),Object.defineProperty(t.prototype,"zoomOut",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.get("zoomLevel",1)/this.get("zoomStep",2))}}),Object.defineProperty(t.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){e.prototype._clearDirty.call(this),this._dirtyGeometries=!1,this._mapFitted=!1}}),Object.defineProperty(t.prototype,"getArea",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getPrivate("geoPath"),n=e.get("geometry");return n?t.area(n):0}}),Object.defineProperty(t,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapChart"}),Object.defineProperty(t,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gt.j.classNames.concat([t.className])}),t}(gt.j),Si=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["Point","MultiPoint"]}),Object.defineProperty(t,"_lineChangedDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fields.push("polygonId","lineId","longitude","latitude","fixed"),e.prototype._afterNew.call(this)}}),Object.defineProperty(t.prototype,"markDirtyProjection",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.markDirty()}}),Object.defineProperty(t.prototype,"markDirtyValues",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.markDirtyValues.call(this),t&&this._positionBullets(t)}}),Object.defineProperty(t.prototype,"processDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.processDataItem.call(this,t);var n=t.get("geometry");if(n){if("Point"==n.type)(i=n.coordinates)&&(t.set("longitude",i[0]),t.set("latitude",i[1]));else if("MultiPoint"==n.type){var i;(i=n.coordinates)&&i[0]&&(t.set("longitude",i[0][0]),t.set("latitude",i[0][1]))}}else n={type:"Point",coordinates:[t.get("longitude",0),t.get("latitude",0)]},t.set("geometry",n);this._addGeometry(n,this)}}),Object.defineProperty(t.prototype,"_makeBullets",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;e.bullets=[],this.bullets.each((function(n){var i=e.get("geometry");if(i)if("Point"==i.type)t._setBulletParent(t._makeBullet(e,n));else if(i.type="MultiPoint"){var r=0;o.each(i.coordinates,(function(){t._setBulletParent(t._makeBullet(e,n,r)),r++}))}}))}}),Object.defineProperty(t.prototype,"_setBulletParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e){var t=e.get("sprite"),n=this.chart;if(t&&n){var i=t.dataItem;i&&(i.get("fixed")?t.parent!=n.bulletsContainer&&n.bulletsContainer.children.moveValue(t):t.parent!=this.bulletsContainer&&this.bulletsContainer.children.moveValue(t))}}}}),Object.defineProperty(t.prototype,"_positionBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=e.get("sprite");if(n){var i=n.dataItem;if(i&&i.get("fixed"))return;var r,o=i.get("latitude"),a=i.get("longitude"),l=i.get("lineDataItem"),s=i.get("fixed"),c=this.chart;if(l)r=l.get("mapLine");else{var p=i.get("lineId");p&&c&&c.series.each((function(e){if(e.isType("MapLineSeries")){var t=e.getDataItemById(p);t&&(i.set("lineDataItem",t),r=t.get("mapLine"))}}))}this._lineChangedDp&&this._lineChangedDp.dispose(),r&&(this._lineChangedDp=r.events.on("linechanged",(function(){t._positionBullets(i)})));var f,h=i.get("polygonDataItem");if(h)f=h.get("mapPolygon");else{var g=i.get("polygonId");g&&c&&c.series.each((function(e){if(e.isType("MapPolygonSeries")){var t=e.getDataItemById(g);t&&(i.set("polygonDataItem",t),f=t.get("mapPolygon"))}}))}var d=i.get("positionOnLine"),v=void 0,b=void 0;if(f)v=[(y=f.visualCentroid()).longitude,y.latitude],i.setRaw("longitude",y.longitude),i.setRaw("latitude",y.latitude);else if(r&&u.isNumber(d)){var y;if(v=[(y=r.positionToGeoPoint(d)).longitude,y.latitude],i.get("autoRotate",e.get("autoRotate"))&&c){var m=r.positionToGeoPoint(d-.002),_=r.positionToGeoPoint(d+.002),P=c.convert(m),w=c.convert(_);b=Dn.getAngle(P,w)}i.setRaw("longitude",y.longitude),i.setRaw("latitude",y.latitude)}else if(u.isNumber(a)&&u.isNumber(o))v=[a,o];else{var j=i.get("geometry");if(j)if("Point"==j.type)this._positionBulletReal(e,j,j.coordinates,b);else if("MultiPoint"==j.type){var O=e._index||0;v=j.coordinates[O]}}!s&&v&&this._positionBulletReal(e,{type:"Point",coordinates:v},v,b)}}}),Object.defineProperty(t.prototype,"_positionBulletReal",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,i){var r=e.get("sprite"),o=this.chart;if(o){var a=o.get("projection"),l=o.getPrivate("geoPath"),u=r.dataItem,s=a(n);s&&r.setAll({x:s[0],y:s[1]});var c=!0;l(t)?this.get("clipFront")&&(c=!1):this.get("clipBack")&&(c=!1),r.setPrivate("visible",c),u&&null!=i&&u.get("autoRotate",e.get("autoRotate"))&&r.set("rotation",i+u.get("autoRotateAngle",e.get("autoRotateAngle",0)))}}}),Object.defineProperty(t.prototype,"zoomToDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.chart;if(n)return n.zoomToGeoPoint({longitude:e.get("longitude",0),latitude:e.get("latitude",0)},t,!0)}}),Object.defineProperty(t.prototype,"disposeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=this.chart;n&&n.series.each((function(e){e.isType("MapLineSeries")&&o.each(e.dataItems,(function(n){var i=n.get("pointsToConnect");i&&o.each(i,(function(r){r==t&&(o.remove(i,r),e.markDirtyValues(n))}))}))})),e.prototype.disposeDataItem.call(this,t)}}),Object.defineProperty(t.prototype,"_excludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype._excludeDataItem.call(this,t);var n=t.bullets;n&&o.each(n,(function(e){var t=e.get("sprite");t&&t.setPrivate("visible",!1)}))}}),Object.defineProperty(t.prototype,"_unexcludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype._unexcludeDataItem.call(this,t);var n=t.bullets;n&&o.each(n,(function(e){var t=e.get("sprite");t&&t.setPrivate("visible",!0)}))}}),Object.defineProperty(t.prototype,"_notIncludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype._notIncludeDataItem.call(this,t);var n=t.bullets;n&&o.each(n,(function(e){var t=e.get("sprite");t&&t.setPrivate("visible",!1)}))}}),Object.defineProperty(t.prototype,"_unNotIncludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype._unNotIncludeDataItem.call(this,t);var n=t.bullets;n&&o.each(n,(function(e){var t=e.get("sprite");t&&t.setPrivate("visible",!0)}))}}),Object.defineProperty(t,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPointSeries"}),Object.defineProperty(t,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.classNames.concat([t.className])}),t}(l),Mi=n(5417),Ni=n.n(Mi),Ci=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"_projectionDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this;if(e.prototype._beforeChanged.call(this),this._projectionDirty||this.isDirty("geometry")||this.isDirty("precision")){var n=this.get("geometry");if(n){var i=this.series;if(i){var r=i.projection();r&&r.precision(this.get("precision",.5));var o=i.geoPath();o&&(this._clear=!0,this.set("draw",(function(e){o.context(t._display),o(n),o.context(null)})),this.isHover()&&this.showTooltip())}}}}}),Object.defineProperty(t.prototype,"markDirtyProjection",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.markDirty(),this._projectionDirty=!0}}),Object.defineProperty(t.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){e.prototype._clearDirty.call(this),this._projectionDirty=!1}}),Object.defineProperty(t.prototype,"geoCentroid",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("geometry");return e?_i(e):{latitude:0,longitude:0}}}),Object.defineProperty(t.prototype,"visualCentroid",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=0,t=[],n=this.get("geometry");if(n){if("Polygon"==n.type)t=n.coordinates;else if("MultiPolygon"==n.type)for(var i=0;i<n.coordinates.length;i++){var r=n.coordinates[i],o=li({type:"Polygon",coordinates:r});o>e&&(t=r,e=o)}var a=Ni()(t);return{longitude:a[0],latitude:a[1]}}return{longitude:0,latitude:0}}}),Object.defineProperty(t.prototype,"_getTooltipPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.series;if(e){var t=e.projection();if(t){var n=this.visualCentroid(),i=t([n.longitude,n.latitude]);if(i)return{x:i[0],y:i[1]}}}return{x:0,y:0}}}),Object.defineProperty(t,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPolygon"}),Object.defineProperty(t,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:c.T.classNames.concat([t.className])}),t}(c.T),Ii=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"mapPolygons",{enumerable:!0,configurable:!0,writable:!0,value:new ee.o(te.YS.new({}),(function(){return Ci._new(t._root,{},[t.mapPolygons.template])}))}),Object.defineProperty(t,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["Polygon","MultiPolygon"]}),t}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"makeMapPolygon",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.children.push(this.mapPolygons.make());return t._setDataItem(e),this.mapPolygons.push(t),t}}),Object.defineProperty(t.prototype,"markDirtyProjection",{enumerable:!1,configurable:!0,writable:!0,value:function(){o.each(this.dataItems,(function(e){var t=e.get("mapPolygon");t&&t.markDirtyProjection()}))}}),Object.defineProperty(t.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){e.prototype._prepareChildren.call(this),this.isDirty("fill")&&this.mapPolygons.template.set("fill",this.get("fill")),this.isDirty("stroke")&&this.mapPolygons.template.set("stroke",this.get("stroke"))}}),Object.defineProperty(t.prototype,"processDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.processDataItem.call(this,t);var n=t.get("mapPolygon");n||(n=this.makeMapPolygon(t)),t.set("mapPolygon",n);var i=t.get("geometry");if(i){if(this.get("reverseGeodata")&&i.coordinates)for(var r=0;r<i.coordinates.length;r++)if("MultiPolygon"==i.type)for(var o=0;o<i.coordinates[r].length;o++)i.coordinates[r][o].reverse();else i.coordinates[r].reverse();n.set("geometry",i)}n.series=this,this._addGeometry(t.get("geometry"),this)}}),Object.defineProperty(t.prototype,"disposeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.disposeDataItem.call(this,t);var n=t.get("mapPolygon");n&&(this.mapPolygons.removeValue(n),n.dispose()),this._removeGeometry(t.get("geometry"))}}),Object.defineProperty(t.prototype,"_excludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype._excludeDataItem.call(this,t);var n=t.get("mapPolygon");n&&n.setPrivate("visible",!1)}}),Object.defineProperty(t.prototype,"_unexcludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype._unexcludeDataItem.call(this,t);var n=t.get("mapPolygon");n&&n.setPrivate("visible",!0)}}),Object.defineProperty(t.prototype,"_notIncludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype._notIncludeDataItem.call(this,t);var n=t.get("mapPolygon");n&&n.setPrivate("visible",!1)}}),Object.defineProperty(t.prototype,"_unNotIncludeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype._unNotIncludeDataItem.call(this,t);var n=t.get("mapPolygon");n&&n.setPrivate("visible",!0)}}),Object.defineProperty(t.prototype,"markDirtyValues",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(e.prototype.markDirtyValues.call(this),t){var n=t.get("mapPolygon");n&&n.set("geometry",t.get("geometry"))}}}),Object.defineProperty(t.prototype,"zoomToDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("mapPolygon");if(t){var n=t.get("geometry"),i=this.chart;if(n&&i)return i.zoomToGeoBounds(Pi(n))}}}),Object.defineProperty(t,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPolygonSeries"}),Object.defineProperty(t,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.classNames.concat([t.className])}),t}(l),Ei=n(8777),Ti=n(8054),Li=n(7449),ki=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"plusButton",{enumerable:!0,configurable:!0,writable:!0,value:t.children.push(Ti.z.new(t._root,{width:36,height:36,themeTags:["plus"]}))}),Object.defineProperty(t,"minusButton",{enumerable:!0,configurable:!0,writable:!0,value:t.children.push(Ti.z.new(t._root,{width:36,height:36,themeTags:["minus"]}))}),Object.defineProperty(t,"_disposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){e.prototype._afterNew.call(this),this.set("position","absolute"),this.set("layout",this._root.verticalLayout),this.plusButton.setAll({icon:c.T.new(this._root,{themeTags:["icon"]}),layout:void 0}),this.minusButton.setAll({icon:c.T.new(this._root,{themeTags:["icon"]}),layout:void 0})}}),Object.defineProperty(t.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(e.prototype._prepareChildren.call(this),this.isPrivateDirty("chart")){var t=this.getPrivate("chart"),n=this._prevPrivateSettings.chart;t&&(this._disposer=new Li.FV([this.plusButton.events.on("click",(function(){t.zoomIn()})),this.minusButton.events.on("click",(function(){t.zoomOut()}))])),n&&this._disposer&&this._disposer.dispose()}}}),Object.defineProperty(t,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ZoomControl"}),Object.defineProperty(t,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.W.classNames.concat([t.className])}),t}(Ei.W);function zi(e,t){return[j(t)*M(e),M(t)]}function Ri(){return rt(zi).scale(249.5).clipAngle(90.000001)}function Yi(e,t){return[e,t]}function Xi(){return rt(Yi).scale(152.63)}function Bi(e,t){var n=M(e),i=(n+M(t))/2;if(_(i)<f)return function(e){var t=j(e);function n(e,n){return[e*t,M(n)/t]}return n.invert=function(e,n){return[e/t,E(n*t)]},n}(e);var r=1+n*(2*i-n),o=C(r)/i;function a(e,t){var n=C(r-2*i*M(t))/i;return[n*M(e*=i),o-n*j(e)]}return a.invert=function(e,t){var n=o-t,a=w(e,_(n))*N(n);return n*i<0&&(a-=g*N(e)*N(n)),[a/i,E((r-(e*e+n*n)*i*i)/(2*i))]},a}function Gi(){return function(e){var t=0,n=g/3,i=ot(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*m,n=e[1]*m):[t*y,n*y]},r}(Bi).scale(155.424).center([0,33.6442])}function Zi(){var e,t,n,i,r,o,a=Gi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7]),l=Gi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=Gi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,t){o=[e,t]}};function c(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(i.point(t,a),o)||(r.point(t,a),o)}function p(){return e=t=null,c}return c.invert=function(e){var t=a.scale(),n=a.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?l:r>=.166&&r<.234&&i>=-.214&&i<-.115?u:a).invert(e)},c.stream=function(n){return e&&t===n?e:(i=[a.stream(t=n),l.stream(n),u.stream(n)],r=i.length,e={point:function(e,t){for(var n=-1;++n<r;)i[n].point(e,t)},sphere:function(){for(var e=-1;++e<r;)i[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)i[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)i[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)i[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)i[e].polygonEnd()}});var i,r},c.precision=function(e){return arguments.length?(a.precision(e),l.precision(e),u.precision(e),p()):a.precision()},c.scale=function(e){return arguments.length?(a.scale(e),l.scale(.35*e),u.scale(e),c.translate(a.translate())):a.scale()},c.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],c=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,c-.238*t],[o+.455*t,c+.238*t]]).stream(s),i=l.translate([o-.307*t,c+.201*t]).clipExtent([[o-.425*t+f,c+.12*t+f],[o-.214*t-f,c+.234*t-f]]).stream(s),r=u.translate([o-.205*t,c+.212*t]).clipExtent([[o-.214*t+f,c+.166*t+f],[o-.115*t-f,c+.234*t-f]]).stream(s),p()},c.fitExtent=function(e,t){return Ue(c,e,t)},c.fitSize=function(e,t){return qe(c,e,t)},c.fitWidth=function(e,t){return Ke(c,e,t)},c.fitHeight=function(e,t){return $e(c,e,t)},c.scale(1070)}zi.invert=function(e){return function(t,n){var i=C(t*t+n*n),r=e(i),o=M(r),a=j(r);return[w(t*o,i*a),E(i&&n*o/i)]}}(E),Yi.invert=Yi;var Ai=1.340264,Wi=-.081106,Fi=893e-6,Vi=.003796,Ji=C(3)/2;function Hi(e,t){var n=E(Ji*M(t)),i=n*n,r=i*i*i;return[e*j(n)/(Ji*(Ai+3*Wi*i+r*(7*Fi+9*Vi*i))),n*(Ai+Wi*i+r*(Fi+Vi*i))]}function Qi(){return rt(Hi).scale(177.158)}function Ui(e,t){var n=t*t,i=n*n;return[e*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),t*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function qi(){return rt(Ui).scale(175.295)}Hi.invert=function(e,t){for(var n,i=t,r=i*i,o=r*r*r,a=0;a<12&&(o=(r=(i-=n=(i*(Ai+Wi*r+o*(Fi+Vi*r))-t)/(Ai+3*Wi*r+o*(7*Fi+9*Vi*r)))*i)*r*r,!(_(n)<h));++a);return[Ji*e*(Ai+3*Wi*r+o*(7*Fi+9*Vi*r))/j(i),E(M(i)/Ji)]},Ui.invert=function(e,t){var n,i=t,r=25;do{var o=i*i,a=o*o;i-=n=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(_(n)>f&&--r>0);return[e/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]}},5417:function(e,t,n){var i=n(2640);function r(e,t,n){var r,l,u,s;t=t||1;for(var c=0;c<e[0].length;c++){var p=e[0][c];(!c||p[0]<r)&&(r=p[0]),(!c||p[1]<l)&&(l=p[1]),(!c||p[0]>u)&&(u=p[0]),(!c||p[1]>s)&&(s=p[1])}var f=u-r,h=s-l,g=Math.min(f,h),d=g/2;if(0===g){var v=[r,l];return v.distance=0,v}for(var b=new i(void 0,o),y=r;y<u;y+=g)for(var m=l;m<s;m+=g)b.push(new a(y+d,m+d,d,e));var _=function(e){for(var t=0,n=0,i=0,r=e[0],o=0,l=r.length,u=l-1;o<l;u=o++){var s=r[o],c=r[u],p=s[0]*c[1]-c[0]*s[1];n+=(s[0]+c[0])*p,i+=(s[1]+c[1])*p,t+=3*p}return 0===t?new a(r[0][0],r[0][1],0,e):new a(n/t,i/t,0,e)}(e),P=new a(r+f/2,l+h/2,0,e);P.d>_.d&&(_=P);for(var w=b.length;b.length;){var j=b.pop();j.d>_.d&&(_=j,n&&console.log("found best %d after %d probes",Math.round(1e4*j.d)/1e4,w)),j.max-_.d<=t||(d=j.h/2,b.push(new a(j.x-d,j.y-d,d,e)),b.push(new a(j.x+d,j.y-d,d,e)),b.push(new a(j.x-d,j.y+d,d,e)),b.push(new a(j.x+d,j.y+d,d,e)),w+=4)}n&&(console.log("num probes: "+w),console.log("best distance: "+_.d));var O=[_.x,_.y];return O.distance=_.d,O}function o(e,t){return t.max-e.max}function a(e,t,n,i){this.x=e,this.y=t,this.h=n,this.d=function(e,t,n){for(var i=!1,r=1/0,o=0;o<n.length;o++)for(var a=n[o],u=0,s=a.length,c=s-1;u<s;c=u++){var p=a[u],f=a[c];p[1]>t!=f[1]>t&&e<(f[0]-p[0])*(t-p[1])/(f[1]-p[1])+p[0]&&(i=!i),r=Math.min(r,l(e,t,p,f))}return 0===r?0:(i?1:-1)*Math.sqrt(r)}(e,t,i),this.max=this.d+this.h*Math.SQRT2}function l(e,t,n,i){var r=n[0],o=n[1],a=i[0]-r,l=i[1]-o;if(0!==a||0!==l){var u=((e-r)*a+(t-o)*l)/(a*a+l*l);u>1?(r=i[0],o=i[1]):u>0&&(r+=a*u,o+=l*u)}return(a=e-r)*a+(l=t-o)*l}i.default&&(i=i.default),e.exports=r,e.exports.default=r},2640:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});class i{constructor(e=[],t=r){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const r=e-1>>1,o=t[r];if(n(i,o)>=0)break;t[e]=o,e=r}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,r=t[e];for(;e<i;){let i=1+(e<<1),o=t[i];const a=i+1;if(a<this.length&&n(t[a],o)<0&&(i=a,o=t[a]),n(o,r)>=0)break;t[e]=o,e=i}t[e]=r}}function r(e,t){return e<t?-1:e>t?1:0}},2872:function(e,t,n){n.r(t),n.d(t,{am5map:function(){return i}});const i=n(6970)}},function(e){var t=(2872,e(e.s=2872)),n=window;for(var i in t)n[i]=t[i];t.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})}]);
//# sourceMappingURL=map.js.map