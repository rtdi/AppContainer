sap.ui.define([ "sap/ui/core/mvc/Controller"], function(Controller) {
	"use strict";

	return Controller.extend("ui5app.Controller", {
		onInit : function() {
			var oModel = new sap.ui.model.json.JSONModel();
			oModel.loadData(sap.ui.require.toUrl("ui5app")+"/data.json");
			oModel.attachRequestCompleted(function() {
			    var data = oModel.getData();
			    for (var e of data.data) {
					e.weekday = new Date(e["Activity Date"]).toLocaleString('en-us', {weekday:'short'});
				}
				console.log(JSON.stringify(data));
			});
    		this.getView().setModel(oModel);
		},

	});

});
